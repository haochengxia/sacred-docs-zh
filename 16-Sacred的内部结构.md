# 16

## Sacred内部机制概述

此部分旨在作为Sacred开发者的参考。它应该提供关于Sacred的一些更复杂内部机制的高级描述。

### 配置过程
当实验开始时，将执行配置过程，并确定应用于运行的最终配置：
1. 确定运行配料的顺序
    - 拓扑排序
    - 按照添加的顺序

2. 对于每个成分：
    - 收集适用的所有配置更新（需要config_updates）
    - 收集要使用的所有命名配置（需要named_configs）
    - 从子运行程序收集所有适用的后备（需要subrunners.config）
    - 使后备为只读
    - 运行所有命名的配置并使用结果作为额外的配置更新，但优先级低于全局配置。（需要    - named_configs, config_updates）
    - 运行所有正常的配置
    - 更新全局配置
    - 运行配置钩子
    - 更新全局config_updates